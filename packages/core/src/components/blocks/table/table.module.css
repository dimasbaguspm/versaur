/* ============================================
   TABLE ROOT - CSS GRID CONTAINER
   ============================================ */
.table {
  /* Three-layer tokens for customization */
  --_border-color: var(--vers-comp-table-border-color, var(--color-border));
  --_cell-px: var(--vers-comp-table-cell-padding-x, 1rem);
  --_cell-py: var(--vers-comp-table-cell-padding-y, 0.25rem);
  --_bg-row: var(--vers-comp-table-bg-row, transparent);
  --_bg-row-alt: var(--vers-comp-table-bg-row-alt, transparent);
  --_bg-row-hover: var(--vers-comp-table-bg-row-hover, var(--color-ghost-soft));
  --_text: var(--vers-comp-table-text, var(--color-ghost));
  --_header-bg: var(--vers-comp-table-header-bg, transparent);
  --_header-border: var(--vers-comp-table-header-border, var(--color-border));
  --_header-text: var(--vers-comp-table-header-text, var(--color-ghost));
  --_header-font-weight: var(--vers-comp-table-header-font-weight, 600);
  --_header-font-size: var(--vers-comp-table-header-font-size, 0.8125rem);
  --_footer-bg: var(--vers-comp-table-footer-bg, transparent);
  --_footer-border: var(--vers-comp-table-footer-border, var(--color-ghost-light));
  --_footer-text: var(--vers-comp-table-footer-text, var(--color-ghost));
  --_footer-font-weight: var(--vers-comp-table-footer-font-weight, 600);

  display: grid;
  grid-template-columns: var(--_columns, auto);
  width: 100%;
  max-width: 100%;
  overflow-x: auto;
  font-size: 0.875rem;
  line-height: 1.6;
}

/* ============================================
   LAYOUT - DISPLAY:CONTENTS FOR FLATTENING
   ============================================ */
.toolbar {
  grid-column: 1 / -1;
  padding: var(--_cell-py) 0;
}

.header,
.body,
.footer,
.row {
  display: contents;
}

/* ============================================
   CELLS - BASE
   ============================================ */
.col {
  --_area: ;
  grid-column: var(--_area, auto);
  padding: var(--_cell-py) var(--_cell-px);
  color: var(--_text);
  display: flex;
  align-items: center;
  min-height: 2.5rem;
}

/* ============================================
   HEADER CELLS (th.col)
   ============================================ */
th.col {
  padding: var(--_cell-py) var(--_cell-px);
  text-align: left;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: var(--font-size-xs);
  font-weight: var(--font-weight-semibold);
  color: var(--color-text-secondary);
  background-color: var(--_header-bg);
  border-bottom: 1px solid var(--_header-border);
  white-space: nowrap;
  position: sticky;
  top: 0;
  z-index: 10;
  cursor: default;
}

/* ============================================
   BODY CELLS (td.col)
   ============================================ */
td.col {
  border-bottom: 1px solid var(--_border-color);
  transition: background-color 0.15s ease;
  background-color: var(--_bg-row);
  vertical-align: middle;
}

/* Row hover effect - only when row is clickable */
.row[data-clickable="true"]:hover td.col {
  background-color: var(--_bg-row-hover);
}

/* ============================================
   FOOTER CELLS
   ============================================ */
.footer .col {
  padding: var(--_cell-py) var(--_cell-px);
  border-bottom: none;
  font-weight: var(--_footer-font-weight);
  color: var(--_footer-text);
  background-color: var(--_footer-bg);
}

/* ============================================
   CELL VARIANTS
   ============================================ */
td.col[data-variant="numeric"] {
  text-align: right;
  font-variant-numeric: tabular-nums;
  font-family: var(--vers-comp-table-numeric-font-family, "Menlo", "Courier New", monospace);
  font-weight: 500;
}

td.col[data-variant="highlight"] {
  font-weight: 600;
  background-color: var(--vers-comp-table-cell-highlight-bg, var(--color-warning-soft));
  color: var(--vers-comp-table-cell-highlight-color, var(--color-warning-bold));
  padding-left: calc(var(--_cell-px) - 2px);
  padding-right: calc(var(--_cell-px) - 2px);
  border-left: 4px solid var(--vers-comp-table-cell-highlight-border, var(--color-warning));
}

td.col[data-variant="checkbox"],
th.col[data-variant="checkbox"] {
  padding: var(--_cell-py) calc(var(--_cell-px) / 2);
  pointer-events: auto;
}

td.col[data-variant="double-line"] {
  flex-direction: column;
  gap: 0.25rem;
  align-items: start;
}

.double-line-title {
  font-weight: var(--font-weight-medium);
  font-size: var(--font-size-sm);
  line-height: var(--line-height-normal);
  color: var(--color-text-primary);
}

.double-line-title[data-size="sm"] {
  font-size: var(--font-size-xs);
}

.double-line-title[data-size="lg"] {
  font-size: var(--font-size-base);
}

.double-line-subtitle {
  font-weight: var(--font-weight-normal);
  font-size: var(--font-size-xs);
  line-height: var(--line-height-normal);
  color: var(--color-text-secondary);
}

.double-line-subtitle[data-size="sm"] {
  font-size: 0.65rem;
}

.double-line-subtitle[data-size="lg"] {
  font-size: var(--font-size-sm);
}

td.col[data-variant="action"] {
  display: flex;
  align-items: center;
  justify-content: center;
  padding: var(--_cell-py) calc(var(--_cell-px) / 2);
}

/* ============================================
   TABLE.ACTION - TRIGGER & DROPDOWN
   ============================================ */
.action {
  position: relative;
  display: inline-flex;
}

.action-trigger {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-size: inherit;
}

.action-trigger:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

.action-item {
  display: block;
  width: 100%;
  padding: var(--_cell-py) var(--_cell-px);
  background: none;
  border: none;
  text-align: left;
  cursor: pointer;
  font-size: 0.875rem;
  color: var(--_text);
  transition: background-color 0.15s ease;
}

.action-item:hover {
  background-color: var(--color-ghost-soft);
}

.action-item:disabled {
  cursor: not-allowed;
  opacity: 0.5;
}

/* ============================================
   RESPONSIVE ADJUSTMENTS
   ============================================ */
@media (max-width: 768px) {
  .col {
    padding: calc(var(--_cell-py) * 0.75) calc(var(--_cell-px) * 0.75);
    font-size: 0.75rem;
  }

  th.col {
    font-size: calc(var(--_header-font-size) * 0.9375);
  }
}
