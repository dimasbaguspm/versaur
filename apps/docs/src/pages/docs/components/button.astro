---
import Layout from '../../../components/Layout.astro';
import { FrameworkSwitcher } from '../../../components/FrameworkSwitcher';
import { ComponentPreview } from '../../../components/ComponentPreview';
import { buttonExamples } from '@versaur/react/button';

function makeExamples(key: 'variants' | 'sizes' | 'states' | 'combined') {
  return {
    react: buttonExamples[key],
    vue: { code: '', language: 'vue' },
    angular: { code: '', language: 'angular' },
  };
}

const installationExamples: Record<string, { code: string; language: string }> = {
  react: buttonExamples.installation,
  vue: buttonExamples.installation,
  angular: buttonExamples.installation,
};
---
<Layout title="Button - Versaur">
  <div class="container">
    <div class="header">
      <h1>Button</h1>
      <p>A versatile button component with multiple variants, sizes, and states</p>
    </div>

    <nav class="nav">
      <a href="/">Home</a>
      <a href="/docs/components/button" class="active">
        Button
      </a>
    </nav>

    <div class="component-showcase">
      <FrameworkSwitcher client:load />

      <div class="section-group">
        <h3>Variants</h3>
        <ComponentPreview
          client:load
          component="button"
          exampleKey="variants"
          examples={makeExamples('variants')}
        />
      </div>

      <div class="section-group">
        <h3>Sizes</h3>
        <ComponentPreview
          client:load
          component="button"
          exampleKey="sizes"
          examples={makeExamples('sizes')}
        />
      </div>

      <div class="section-group">
        <h3>States</h3>
        <ComponentPreview
          client:load
          component="button"
          exampleKey="states"
          examples={makeExamples('states')}
        />
      </div>

      <div class="section-group">
        <h3>Combined Examples</h3>
        <ComponentPreview
          client:load
          component="button"
          exampleKey="combined"
          examples={makeExamples('combined')}
        />
      </div>
    </div>

    <div class="component-showcase">
      <h2>API Reference</h2>
      <table class="props-table">
        <thead>
          <tr>
            <th>Prop</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><code>variant</code></td>
            <td><code>'primary' | 'secondary' | 'danger'</code></td>
            <td><code>'primary'</code></td>
            <td>Visual variant of the button</td>
          </tr>
          <tr>
            <td><code>size</code></td>
            <td><code>'small' | 'medium' | 'large'</code></td>
            <td><code>'medium'</code></td>
            <td>Size of the button</td>
          </tr>
          <tr>
            <td><code>loading</code></td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>Shows a spinner and disables interaction</td>
          </tr>
          <tr>
            <td><code>disabled</code></td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>Whether the button is disabled</td>
          </tr>
          <tr>
            <td><code>pressed</code></td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>Whether the button is in a pressed state (for toggle buttons)</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="component-showcase">
      <h2>Installation</h2>
      <ComponentPreview
        client:load
        exampleKey="installation"
        examples={installationExamples}
      />
    </div>
  </div>
</Layout>
